<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Rosetta——Web Components" />
    <meta name="keywords" content="百度直达号团队,Rosetta,百度Rosetta,百度前端,WebComponents实践,组件化开发" />
    <link rel="shortcut icon" href="/static/images/favicon.ico"/>
    <title>Rosetta : 一分钟功能概览</title>
    <meta name="description" content="Rosetta 面向WebComponents的组件开发方案">
    <meta name="author" content="Rosetta">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/static/css/normalize_5f79cb1.css" rel="stylesheet">


    <!-- Custom styles -->
    <link href="/static/assets/css/index_a8fe025.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/page_6b9d821.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/github_5dbe7fc.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/perfect-scrollbar.min_0321076.css" rel="stylesheet">
    <link href="/static/css/font-awesome.min_e32923f.css" rel="stylesheet" type="text/css" media="all">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/static/js/html5shiv_3855464.js"></script>
    <script src="/static/js/respond.min_579a7a6.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <script src="/static/js/jquery.min_8fa4892.js"></script>
    <script src="/static/js/scrollspy_f211cc4.js"></script>
</head>

<body>
<div class="header-wrap">
    <header>
        <div class="logo-wrap">
            <a href="/index.html" class="logo">
                <img src="/logo.png">
                <i class="fa fa-rocket"></i>
            </a>
            <a class="fa toggle"></a>
        </div>
        <nav>
            <div class="nav-left">
                <a href="/docs/beginning/intro.html" class="nav-link  is-active">文档</a>
                <a href="/tools/intro.html" class="nav-link ">工具</a>
                <a href="/elements/intro.html" class="nav-link ">组件</a>
                <a target="_blank" href="https://github.com/Rosetta-org/rosetta-demo" class="nav-link">Demo</a>
                <a href="/docs/api/api.html" class="nav-link ">API</a>
                <a target="_blank" href="" class="nav-link">线上实例</a>
            </div>
            <div class="nav-right">
                <!-- <a href="#" class="nav-link lang">中文</a> -->
                <!-- <a href="#" class="nav-link lang">English</a> -->
                <a href="https://github.com/jiexuangao/rosetta" class="nav-link"><i class="fa fa-github"></i></a>
            </div>
        </nav>
    </header>
</div>

<div id="main" class="fix-sidebar">
    <div class="sidebar">
    <ul>
<li><a href="/docs/beginning/intro.html">介绍</a><ul>
<li><a href="/docs/beginning/install.html">安装依赖</a></li>
<li><a href="/docs/beginning/getRosetta.html">获取Rosetta</a></li>
</ul>
</li>
<li>快速开始<ul>
<li><a href="/docs/beginning/helloworld.html">手把手教你写一个helloworld</a></li>
<li><a href="/docs/beginning/core.html">一分钟功能概览</a></li>
<li><a href="/docs/beginning/elements.html">组件生态</a></li>
<li><a href="/docs/beginning/scaffold.html">脚手架</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href="/docs/lv1.html">入门使用</a><ul>
<li><a href="/docs/lv1.html#%E5%AE%9A%E4%B9%89element">定义element</a></li>
<li><a href="/docs/lv1.html#%E5%A2%9E%E5%8A%A0html%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B1%9E%E6%80%A7">增加html、变量、属性</a></li>
<li><a href="/docs/lv1.html#%E8%AE%BE%E7%BD%AE%E6%A0%B7%E5%BC%8F">设置样式</a></li>
<li><a href="/docs/lv1.html#%E6%B3%A8%E5%86%8Celement%E5%AE%9A%E4%B9%89%E9%80%BB%E8%BE%91">注册element定义逻辑</a></li>
<li><a href="/docs/lv1.html#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6">绑定事件</a></li>
<li><a href="/docs/lv1.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">生命周期</a></li>
<li><a href="/docs/lv1.html#%E5%A3%B0%E6%98%8E%E4%BE%9D%E8%B5%96">声明依赖</a></li>
<li><a href="/docs/lv1.html#%E6%9B%B4%E6%96%B0element%E7%9A%84%E5%B1%9E%E6%80%A7">更新element的属性</a></li>
<li><a href="/docs/lv1.html#refs%E5%BF%AB%E9%80%9F%E8%AE%BF%E9%97%AE%E5%86%85%E9%83%A8DOM">refs快速访问内部DOM</a></li>
<li><a href="/docs/lv1.html#%E5%AE%9A%E4%B9%89%E5%AE%B9%E5%99%A8">定义容器</a></li>
<li><a href="/docs/lv1.html#ready%E6%8E%A5%E5%8F%A3">ready接口</a></li>
<li><a href="/docs/lv1.html#ref%E6%8E%A5%E5%8F%A3%E5%BF%AB%E9%80%9Felement%E5%AE%9E%E4%BE%8B">ref接口快速element实例</a></li>
<li><a href="/docs/lv1.html#init%E6%8E%A5%E5%8F%A3">init接口</a></li>
<li><a href="/docs/lv1.html#%E5%9F%BA%E4%BA%8EFis3%E7%9A%84Element%E9%A2%84%E5%A4%84%E7%90%86">基于FIS3的预处理</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href="/docs/lv2.html">高级使用</a><ul>
<li><a href="/docs/lv2.html#%E5%8A%A8%E6%80%81%E5%AE%9E%E4%BE%8B%E5%8C%96">动态实例化element</a></li>
<li><a href="/docs/lv2.html#%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E6%B3%A8%E5%86%8Celement">异步加载注册element</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href="/docs/lv3.html">项目解决方案</a><ul>
<li><a href="/docs/lv3.html#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91">组件化开发</a></li>
<li><a href="/docs/lv3.html#%E5%9F%BA%E4%BA%8EFis3%E7%9A%84%E6%9E%84%E5%BB%BA">基于FIS3的项目构建</a></li>
</ul>
</li>
</ul>
<ul>
<li><p><a href="/docs/api/api.html">API接口文档</a></p>
<ul>
<li><a href="/docs/api/api.html#Element%E7%9A%84%E5%8A%A8%E6%80%81%E6%95%B0%E6%8D%AE">Element的动态数据</a></li>
<li><a href="/docs/api/api.html#%E6%A8%A1%E7%89%88%E8%AF%AD%E6%B3%95">模版语法</a></li>
<li><a href="/docs/api/api.html#%E5%AE%9A%E4%B9%89%E5%AE%9E%E4%BE%8B%E9%80%BB%E8%BE%91">定义实例逻辑</a></li>
<li><a href="/docs/api/api.html#Element%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">Element生命周期</a></li>
<li><a href="/docs/api/api.html#%E5%AE%9A%E4%BD%8DDOM">定位DOM</a></li>
<li><a href="/docs/api/api.html#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A">事件绑定</a></li>
<li><a href="/docs/api/api.html#%E5%AE%9E%E4%BE%8B%E5%8C%96Element">动态实例化Element</a></li>
<li><a href="/docs/api/api.html#%E6%B8%B2%E6%9F%93Element">动态渲染Element</a></li>
</ul>
</li>
<li><p>工作原理</p>
<ul>
<li><a href="/docs/beginning/runtime.html">Runtime</a></li>
<li><a href="/docs/beginning/compile.html">Compile</a></li>
</ul>
</li>
<li><p><a href="/docs/usage.html">Rosetta1.0整合三方</a></p>
</li>
</ul>

    <div class="bottom-shadow"></div>
</div>

    <div class="content api with-sidebar">
        <a name="%E4%B8%80%E5%88%86%E9%92%9F%E5%8A%9F%E8%83%BD%E6%A6%82%E8%A7%88" class="title-anchor"></a><h3 class="" id="一分钟功能概览">一分钟功能概览</h3><p>Rosetta让开发者能够更便捷的以声明式来写组件
核心功能custom elements使得开发者编写交互组件和复杂应用的时候更加容易</p>
<p>总体说来Rosetta的custom elements包含一下核心功能</p>
<ul>
<li><a href="/docs/beginning/core.html#%E5%BC%95%E7%94%A8%E7%BB%84%E4%BB%B6">引用组件</a></li>
<li><a href="/docs/beginning/core.html#%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6">注册组件</a></li>
<li><a href="/docs/beginning/core.html#%E5%86%85%E9%83%A8DOM%E7%BB%93%E6%9E%84">内部DOM结构</a></li>
<li><a href="/docs/beginning/core.html#%E7%BB%84%E4%BB%B6%E5%AE%B9%E5%99%A8">组件容器</a></li>
<li><a href="/docs/beginning/core.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">生命周期</a></li>
<li><a href="/docs/beginning/core.html#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A">事件绑定</a></li>
<li><a href="/docs/beginning/core.html#%E5%B1%9E%E6%80%A7%E5%A3%B0%E6%98%8E">属性声明</a></li>
<li><a href="/docs/beginning/core.html#%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0">数据更新</a></li>
</ul>
<p>这里你可以看到每个核心功能的例子</p>
<a name="%E5%BC%95%E7%94%A8%E7%BB%84%E4%BB%B6" class="title-anchor"></a><h4 class="" >引用组件</h4><ul>
<li>使用HTML Import来引入组件、声明组件依赖</li>
<li>通过编译环节处理兼容性问题</li>
<li>在使用custom element的位置添加如下link标签</li>
</ul>
<p>引用方式如下：</p>
<pre><code>&lt;link <span class="hljs-variable">rel=</span><span class="hljs-string">"import"</span> <span class="hljs-variable">type=</span><span class="hljs-string">"text/html"</span> <span class="hljs-variable">href=</span><span class="hljs-string">"r-slider.html"</span>&gt;
</code></pre><a name="%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6" class="title-anchor"></a><h4 class="" >注册组件</h4><ul>
<li>开发者可以通过Rosetta.register函数注册组件，这些组件可以直接在浏览器中通过标签来使用</li>
<li>开发者为注册的组件定义标签名和属性和方法</li>
<li>遵循Web Components标准，注册的组件名必须包含&#39;-&#39;</li>
</ul>
<p>定义：</p>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-slider"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="php">
        Rosetta.register(<span class="hljs-string">'r-slider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            tag.attrs = {
                <span class="hljs-keyword">list</span>: [{
                    title: <span class="hljs-string">'111'</span>
                    src: <span class="hljs-string">'xxx'</span>
                }, {
                    title: <span class="hljs-string">'222'</span>
                    src: <span class="hljs-string">'zzz'</span>
                }],
                text: <span class="hljs-string">'测试'</span>
            }
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre>
<p>使用：</p>
<pre><code class="hljs lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">r-slider</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"啦啦啦"</span> <span class="hljs-attribute">list</span>=<span class="hljs-value">"[]"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">r-slider</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<a name="%E5%86%85%E9%83%A8DOM%E7%BB%93%E6%9E%84" class="title-anchor"></a><h4 class="" >内部DOM结构</h4><p>组件可以定义其内部的DOM结构，通过<code>&lt;template&gt;&lt;/template&gt;</code>标签包裹</p>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-slider"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            {attrs.text}
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="php">
        Rosetta.register(<span class="hljs-string">'r-slider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            tag.attrs = {
                <span class="hljs-keyword">list</span>: [{
                    title: <span class="hljs-string">'111'</span>
                    src: <span class="hljs-string">'xxx'</span>
                }, {
                    title: <span class="hljs-string">'222'</span>
                    src: <span class="hljs-string">'zzz'</span>
                }],
                text: <span class="hljs-string">'测试'</span>
            }
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre>
<a name="%E7%BB%84%E4%BB%B6%E5%AE%B9%E5%99%A8" class="title-anchor"></a><h4 class="" >组件容器</h4><p>组件通过<code>&lt;content&gt;&lt;/content&gt;</code>声明自身的容器，并通过<code>select</code>字段作为选择器过滤，比如select=&#39;.aaa&#39;的表示只会将当前组件使用时定义的子元素中选择器符合&#39;.aaa&#39;的元素作为实际子元素，其他的会自动忽略，比如</p>
<p>定义</p>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-slider"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            {attrs.text}
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">content</span> <span class="hljs-attribute">select</span>=<span class="hljs-value">'.aaa'</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">content</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="php">
        Rosetta.register(<span class="hljs-string">'r-slider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            tag.attrs = {
                <span class="hljs-keyword">list</span>: [{
                    title: <span class="hljs-string">'111'</span>
                    src: <span class="hljs-string">'xxx'</span>
                }, {
                    title: <span class="hljs-string">'222'</span>
                    src: <span class="hljs-string">'zzz'</span>
                }],
                text: <span class="hljs-string">'测试'</span>
            }
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre>
<p>使用：</p>
<pre><code class="hljs lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">r-slider</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"啦啦啦"</span> <span class="hljs-attribute">list</span>=<span class="hljs-value">"[]"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"aaa"</span>&gt;</span>
            我会被选中
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            我会被忽略
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">r-slider</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<a name="%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" class="title-anchor"></a><h4 class="" >生命周期</h4><p>Rosetta为custom elements实现了和标准一致的生命周期：</p>
<ul>
<li>created：组件创建</li>
<li>attached：组件渲染到document里</li>
<li>dettached：组件从document移除</li>
<li>attributeschanged：属性更新</li>
</ul>
<a name="%E5%B1%9E%E6%80%A7%E5%A3%B0%E6%98%8E" class="title-anchor"></a><h4 class="" >属性声明</h4><p>在组件定义的时候，register函数的第二个参数renderFunction里，可以进行属性默认值的声明</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-slider"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="php">
        Rosetta.register(<span class="hljs-string">'r-slider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            tag.attrs = {
                <span class="hljs-keyword">list</span>: [{
                    title: <span class="hljs-string">'111'</span>
                    src: <span class="hljs-string">'xxx'</span>
                }, {
                    title: <span class="hljs-string">'222'</span>
                    src: <span class="hljs-string">'zzz'</span>
                }],
                text: <span class="hljs-string">'测试'</span>
            }
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre><p>使用组件的时候以attributes的方式进行属性初始化：</p>
<pre><code class="hljs lang-html"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">r-slider</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"初始化属性"</span> <span class="hljs-attribute">list</span>=<span class="hljs-value">"[]"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">r-slider</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<a name="%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A" class="title-anchor"></a><h4 class="" >事件绑定</h4><ul>
<li>组件内DOM支持声明式的原生事件绑定，以&#39;on&#39;加首字母大写的事件名形式绑定事件:</li>
</ul>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-button"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">{clicktest}</span>&gt;</span>
            测试点击
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="actionscript">
        Rosetta.register(<span class="hljs-string">'r-button'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            <span class="hljs-keyword">var</span> clicktest = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                alert(<span class="hljs-string">'clicked'</span>);
            };
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre><ul>
<li>组件支持声明式的事件绑定</li>
</ul>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-button"</span> <span class="hljs-attribute">onAttached</span>=<span class="hljs-value">{update}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="actionscript">
        Rosetta.register(<span class="hljs-string">'r-button'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            <span class="hljs-keyword">var</span> update = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                alert(<span class="hljs-string">'attached'</span>);
            };
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre><a name="%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0" class="title-anchor"></a><h4 class="" >数据更新</h4><p>通过element实例的update接口，进行数据更新，比如在组件渲染完毕的时候进行数据更新</p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"r-button"</span> <span class="hljs-attribute">onAttached</span>=<span class="hljs-value">{update}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
            {text}
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="actionscript">
        Rosetta.register(<span class="hljs-string">'r-button'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tag)</span> </span>{
            tag.attrs = {
                text: <span class="hljs-string">'测试'</span>
            };

            <span class="hljs-keyword">var</span> update = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                tag.attrs.text = <span class="hljs-string">'after render'</span>;
            };
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">element</span>&gt;</span>
</code></pre><blockquote class="warning"><p>文档内容有误，可提 PR，文档地址: <i class="fa fa-github"></i><a href="https://github.com/jiexuangao/rosetta/tree/master/doc/docs/beginning/core.md">/doc/docs/beginning/core.md</a></p></blockquote>
    </div>
</div>

<script type="text/javascript">
    var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F4206d67a3ea708c0d2a9354c8d88525f' type='text/javascript'%3E%3C/script%3E"));
</script>


<!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/static/js/perfect-scrollbar.min_5c71541.js"></script>
<script type="text/javascript">
    (function(){
        var scrollBarEnabled = false;

        function isIE( version, comparison ){
            var $div = $('<div style="display:none;"/>').appendTo($('body'));
            $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');
            var ieTest = $div.find('a').length;
            $div.remove();
            return ieTest;
        }

        function updateScrollBar(){
            function enableScrollBar(){
                if (scrollBarEnabled)
                    return;
                scrollBarEnabled = true;
                $(".sidebar").perfectScrollbar({
                    wheelSpeed: 10,
                    wheelPropagation: false
                });
            }

            function disableScrollBar(){
                if (!scrollBarEnabled)
                    return;
                scrollBarEnabled = false;
                $(".sidebar").perfectScrollbar('destroy');
            }

            if ($(window).width()>760 && $(".sidebar").height() < $(".sidebar ul").height()){
                enableScrollBar();
            }else{
                disableScrollBar();
            }
        }

        //设置链接当前样式
        function setActive(){
            var href= window.location.href;
            $(".sidebar li a").each(function(){
                var link = $(this).attr("href");
                if(String(href).indexOf(link) > -1){
                    $(this).addClass("active");
                }
            })
        }

        //生成左边导航用于在移动端查看使用
        function buildSideNav(){
            $("nav .nav-left").clone().attr("class","main-nav").prependTo($(".sidebar"));

            $(".header-wrap .toggle").addClass("fa-list").on("click",function(){
                $(".sidebar").toggleClass("open");
                return false;
            })

            $("html").on("click",function(e){
                console.log(e.target);
                $(".sidebar").removeClass("open");
            })

            $(".sidebar").bind("click",function(e){
                e && e.stopPropagation();
            })
        }

        //hash平滑滚动，a链接添加active
        $('.sidebar li a').click(function(){
            $('.sidebar li a').removeClass("active");
            $(this).addClass("active");
            $(".sidebar").removeClass("open");
        });

        setActive();
        buildSideNav();


        if (!isIE(8, 'lte')){
            $(".sidebar").addClass('scrollbar');
            updateScrollBar();
            $(window).resize(updateScrollBar);
        }



        // //判断滚动方向，动态隐藏导航条
        // var lastScrollTop = 0;
        // $(window).scroll(function(event){
        //     if($(window).width()>720){
        //         var st = $(this).scrollTop();
        //         if(st > lastScrollTop){
        //             $("body").addClass("hide-header");
        //         }else{
        //             $("body").removeClass("hide-header");
        //         }
        //     }else{
        //         $("body").removeClass("hide-header");
        //     }
        //     lastScrollTop = st;
        // });
    }());
</script>
<script type="text/javascript">
// var _hmt = _hmt || [];
// (function() {
//   var hm = document.createElement("script");
//   hm.src = "//hm.baidu.com/hm.js?58781c9e97848ee4bfe5b036058c99e7";
//   var s = document.getElementsByTagName("script")[0];
//   s.parentNode.insertBefore(hm, s);
// })();
</script>
</body>
</html>
